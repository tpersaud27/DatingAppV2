<div class="messages" #messagesContainer>
  @for (message of messages(); track message.id) {
  <div
    class="message"
    [class.mine]="message.senderId === currentUserId"
    [class.pending]="message.pending"
    [class.failed]="message.failed"
  >
    <div class="bubble">
      {{ message.content }}
    </div>

    <div class="timestamp">
      {{ message.messageSent | date : 'shortTime' }}
    </div>
  </div>
  }
</div>

<form class="composer" (ngSubmit)="onSendMessage(messageInput)">
  <mat-form-field appearance="outline" class="input">
    <input matInput placeholder="Type a messageâ€¦" #messageInput [disabled]="isSending()" />
  </mat-form-field>

  <button mat-icon-button type="submit" color="primary" [disabled]="isSending()">
    <mat-icon>send</mat-icon>
  </button>
</form>
